<!DOCTYPE html>
<!--[if !IE]>
	<html class="no-js non-ie" lang="zh-CN"> <![endif]-->
<!--[if IE 7 ]>
	<html class="no-js ie7" lang="zh-CN"> <![endif]-->
<!--[if IE 8 ]>
	<html class="no-js ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 9 ]>
	<html class="no-js ie9" lang="zh-CN"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="zh-CN">
 <!--<![endif]-->
 <head> 
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <meta property="qc:admins" content="4173476777625400066547" /> 
  <meta property="wb:webmaster" content="25718a14ebe65d1e" /> 
  <meta name="baidu-site-verification" content="a4sDPmai4K" /> 
  <meta name="baidu_union_verify" content="98fe6e02f5be0f999efb76dbc457647f" /> 
  <title>Python HTTP 代理服务器 (Proxy) | 红色映像</title> 
  <link rel="profile" href="http://gmpg.org/xfn/11" /> 
  <link rel="pingback" href="http://www.redphp.net/xmlrpc.php" /> 
  <link rel="alternate" type="application/rss+xml" title="红色映像 &raquo; Feed" href="http://www.redphp.net/feed/" /> 
  <link rel="alternate" type="application/rss+xml" title="红色映像 &raquo; 评论Feed" href="http://www.redphp.net/comments/feed/" /> 
  <link rel="alternate" type="application/rss+xml" title="红色映像 &raquo; Python HTTP 代理服务器 (Proxy)评论Feed" href="http://www.redphp.net/python-http-proxy/feed/" /> 
  <link rel="stylesheet" id="open_social_css-css" href="http://www.redphp.net/wp-content/plugins/open-social/images/os.css?ver=3.8.1" type="text/css" media="all" /> 
  <link rel="stylesheet" id="responsive-style-css" href="http://www.redphp.net/wp-content/themes/responsive/core/css/style.css?ver=1.9.5.3" type="text/css" media="all" /> 
  <link rel="stylesheet" id="responsive-media-queries-css" href="http://www.redphp.net/wp-content/themes/responsive/core/css/responsive.css?ver=1.9.5.3" type="text/css" media="all" /> 
  <script type="text/javascript" src="http://www.redphp.net/wp-includes/js/jquery/jquery.js?ver=1.10.2"></script> 
  <script type="text/javascript" src="http://www.redphp.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1"></script> 
  <script type="text/javascript" src="http://www.redphp.net/wp-content/themes/responsive/core/js/responsive-modernizr.min.js?ver=2.6.1"></script> 
  <script type="text/javascript" src="http://www.redphp.net/wp-includes/js/comment-reply.min.js?ver=3.8.1"></script> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.redphp.net/xmlrpc.php?rsd" /> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.redphp.net/wp-includes/wlwmanifest.xml" /> 
  <link rel="prev" title="历史上真实的唐僧西天取经实属偷渡" href="http://www.redphp.net/tangsanzhantoudu/" /> 
  <link rel="next" title="Centos下单网卡使用pptp搭建vpn" href="http://www.redphp.net/centos-one-eth-pptp-vpn/" /> 
  <meta name="generator" content="WordPress 3.8.1" /> 
  <link rel="canonical" href="http://www.redphp.net/python-http-proxy/" /> 
  <link rel="shortlink" href="http://www.redphp.net/?p=444" /> 
  <!-- We need this for debugging --> 
  <!-- Responsive 1.9.5.3 --> 
  <script type="text/javascript" name="baidu-tc-cerfication" src="http://apps.bdimg.com/cloudaapi/lightapp.js#2f9d3f3f3d4e40235a2c003d30ab1645"></script>
  <script type="text/javascript">window.bd && bd._qdc && bd._qdc.init({app_id: '8d79bf35755b83d87c901af5'});</script> 
 </head> 
 <body class="single single-post postid-444 single-format-standard"> 
  <div id="container" class="hfeed"> 
   <div id="header"> 
    <div id="logo"> 
     <a href="http://www.redphp.net/"><img src="http://www.redphp.net/wp-content/themes/responsive/core/images/default-logo.png" alt="红色映像" /></a> 
    </div>
    <!-- end of #logo --> 
    <div class="main-nav">
     <ul id="menu-default" class="menu">
      <li id="menu-item-18" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-18"><a href="http://www.redphp.net/">首页</a></li> 
      <li id="menu-item-16" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-16"><a href="http://www.redphp.net/category/program/">学习笔记</a></li> 
      <li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7"><a href="http://www.redphp.net/category/tool/">常用工具</a></li> 
      <li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="http://www.redphp.net/category/skill/">实用技巧</a></li> 
      <li id="menu-item-10" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10"><a href="http://www.redphp.net/category/collect/">我的收藏</a></li> 
      <li id="menu-item-423" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-423"><a href="http://www.redphp.net/category/pictures/">图片收藏</a></li> 
      <li id="menu-item-864" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-864"><a href="http://www.redphp.net/category/jd/">京东</a></li> 
      <li id="menu-item-865" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-865"><a href="http://www.redphp.net/category/tb/">淘宝</a></li> 
      <li id="menu-item-866" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-866"><a href="http://www.redphp.net/category/yhd/">一号店</a></li> 
     </ul>
    </div> 
   </div>
   <!-- end of #header --> 
   <div id="wrapper" class="clearfix"> 
    <div id="content" class="grid col-620"> 
     <div class="breadcrumb-list" xmlns:v="http://rdf.data-vocabulary.org/#">
      <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.redphp.net/">首页</a></span> 
      <span class="chevron">69</span> 
      <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.redphp.net/category/program/" title="查看学习笔记中的全部文章">学习笔记</a></span> 
      <span class="chevron">69</span> 
      <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="http://www.redphp.net/category/program/python/" title="查看Python中的全部文章">Python</a></span> 
      <span class="chevron">69</span> 
      <span class="breadcrumb-current">Python HTTP 代理服务器 (Proxy)</span>
     </div> 
     <div id="post-444" class="post-444 post type-post status-publish format-standard hentry category-python"> 
      <h1 class="entry-title post-title">Python HTTP 代理服务器 (Proxy)</h1> 
      <div class="post-meta"> 
       <span class="meta-prep meta-prep-author posted">发表于 </span>
       <a href="http://www.redphp.net/python-http-proxy/" title="Python HTTP 代理服务器 (Proxy)" rel="bookmark"><time class="timestamp updated" datetime="2014-07-16T15:57:07+00:00">2014年7月16日</time></a>
       <span class="byline"> 作者 </span>
       <span class="author vcard"><a class="url fn n" href="http://www.redphp.net/author/ison/" title="查看 ison 的所有文章">ison</a></span> 
       <span class="comments-link"> <span class="mdash">―</span> <a href="http://www.redphp.net/python-http-proxy/#respond" title="《Python HTTP 代理服务器 (Proxy)》上的评论">暂无评论 ↓</a> </span> 
      </div>
      <!-- end of .post-meta --> 
      <div class="post-entry"> 
       <p>使用方法：启动本程序后，在浏览器中设置代理服务器地址为：192.168.77.99， 端口为：8083 即可。</p> 
       <pre>
#-*- coding: UTF-8 -*-
import socket,select
import sys
import thread
from multiprocessing import Process

class Proxy:
    def __init__(self,soc):
        self.client,_=soc.accept()
        self.target=None
        self.request_url=None
        self.BUFSIZE=409600
        self.method=None
        self.targetHost=None
    def getClientRequest(self):
        request=self.client.recv(self.BUFSIZE)
        if not request:
            return None
        cn=request.find('\n')
        firstLine=request[:cn]
        print firstLine[:len(firstLine)-9]
        line=firstLine.split()
        self.method=line[0]
        self.targetHost=line[1]
        return request
    def commonMethod(self,request):
        tmp=self.targetHost.split('/')
        net=tmp[0]+'//'+tmp[2]
        request=request.replace(net,'')
        targetAddr=self.getTargetInfo(tmp[2])
        try:
            (fam,_,_,_,addr)=socket.getaddrinfo(targetAddr[0],targetAddr[1])[0]
        except Exception as e:
            print e
            return
        self.target=socket.socket(fam)
        self.target.connect(addr)
        self.target.send(request)
        self.nonblocking()
    def connectMethod(self,request): #对于CONNECT处理可以添加在这里
        pass
    def run(self):
        request=self.getClientRequest()
        if request:
            if self.method in ['GET','POST','PUT',&quot;DELETE&quot;,'HAVE']:
                self.commonMethod(request)
            elif self.method=='CONNECT':
                self.connectMethod(request)
    def nonblocking(self):
        inputs=[self.client,self.target]
        while True:
            readable,writeable,errs=select.select(inputs,[],inputs,3)
            if errs:
                break
            for soc in readable:
                data=soc.recv(self.BUFSIZE)
                if data:
                    if soc is self.client:
                        self.target.send(data)
                    elif soc is self.target:
                        self.client.send(data)
                else:
                    break
        self.client.close()
        self.target.close()
    def getTargetInfo(self,host):
        port=0
        site=None
        if ':' in host:
            tmp=host.split(':')
            site=tmp[0]
            port=int(tmp[1])
        else:
            site=host
            port=80
        return site,port
if __name__=='__main__':      
    host = '192.168.77.99' 
    port = 8083
    backlog = 5 
    server = socket.socket(socket.AF_INET,socket.SOCK_STREAM) 
    server.setsockopt(socket.SOL_SOCKET,socket.SO_REUSEADDR,1)
    server.bind((host,port)) 
    server.listen(5) 
    while True:
        thread.start_new_thread(Proxy(server).run,())
        # p=Process(target=Proxy(server).run, args=()) #多进程
        # p.start()
</pre> 
      </div> 
      <!-- end of .post-entry --> 
      <div class="navigation"> 
       <div class="previous">
        68 
        <a href="http://www.redphp.net/tangsanzhantoudu/" rel="prev">历史上真实的唐僧西天取经实属偷渡</a>
       </div> 
       <div class="next">
        <a href="http://www.redphp.net/centos-one-eth-pptp-vpn/" rel="next">Centos下单网卡使用pptp搭建vpn</a> 69
       </div> 
      </div> 
      <!-- end of .navigation --> 
      <div class="post-data">
        文章分类 
       <a href="http://www.redphp.net/category/program/python/" title="查看Python中的全部文章">Python</a> 
      </div>
      <!-- end of .post-data --> 
      <div class="post-edit"></div> 
     </div>
     <!-- end of #post-444 --> 
     <div id="respond" class="comment-respond"> 
      <h3 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/python-http-proxy/#respond" style="display:none;">取消回复</a></small></h3> 
      <p class="must-log-in">要发表评论，您必须先<a href="http://www.redphp.net/wp-login.php?redirect_to=http%3A%2F%2Fwww.redphp.net%2Fpython-http-proxy%2F">登录</a>。</p> 
      <div id="open_social_login" class="open_social_box login_box">
       <div class="login_button login_icon_qq" onclick="login_button_click('qq','http://www.redphp.net/aip-return/')" title="使用腾讯QQ登陆"></div>
       <div class="login_button login_icon_sina" onclick="login_button_click('sina','http://www.redphp.net/aip-return/')" title="使用新浪微博登陆"></div>
      </div> 
     </div>
     <!-- #respond --> 
    </div>
    <!-- end of #content --> 
    <div id="widgets" class="grid col-300 fit"> 
     <div id="search-2" class="widget-wrapper widget_search">
      <form method="get" id="searchform" action="http://www.redphp.net/"> 
       <label class="screen-reader-text" for="s">Search for:</label> 
       <input type="text" class="field" name="s" id="s" placeholder="搜索..." /> 
       <input type="submit" class="submit" name="submit" id="searchsubmit" value="搜" /> 
      </form>
     </div>
     <div id="text-4" class="widget-wrapper widget_text"> 
      <div class="textwidget">
       <script type="text/javascript">
    var cpro_id="u2361290";
    (window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id]={at:"3",rsi0:"250",rsi1:"250",pat:"17",tn:"baiduCustNativeAD",rss1:"#FFFFFF",conBW:"1",adp:"1",ptt:"0",titFF:"",titFS:"14",rss2:"#000000",titSU:"0"}
</script> 
       <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script> 
      </div> 
     </div> 
     <div id="recent-posts-2" class="widget-wrapper widget_recent_entries"> 
      <div class="widget-title">
       <h3>近期文章</h3>
      </div> 
      <ul> 
       <li> <a href="http://www.redphp.net/centos-%e5%ae%89%e8%a3%85-l2tp/">Centos 安装 L2tp</a> </li> 
       <li> <a href="http://www.redphp.net/scss-%e5%ae%89%e8%a3%85%e5%92%8c%e4%bd%bf%e7%94%a8/">SCSS 安装和使用</a> </li> 
       <li> <a href="http://www.redphp.net/jquery-%e5%88%a4%e6%96%ad%e6%98%af%e5%90%a6%e5%88%b0%e8%be%be%e6%b5%8f%e8%a7%88%e5%99%a8%e5%ba%95%e9%83%a8/">JQUERY 判断是否到达浏览器底部</a> </li> 
       <li> <a href="http://www.redphp.net/php-%e5%92%8c-smarty-%e5%be%aa%e7%8e%af%e8%a1%a8%e6%a0%bc/">PHP 和 Smarty 循环表格</a> </li> 
       <li> <a href="http://www.redphp.net/php-%e6%a0%b9%e6%8d%ae%e5%87%ba%e7%94%9f%e6%97%a5%e6%9c%9f%e8%ae%a1%e7%ae%97%e5%b9%b4%e9%be%84/">PHP 根据出生日期计算年龄</a> </li> 
      </ul> 
     </div>
     <div id="categories-2" class="widget-wrapper widget_categories">
      <div class="widget-title">
       <h3>分类目录</h3>
      </div> 
      <ul> 
       <li class="cat-item cat-item-41"><a href="http://www.redphp.net/category/yhd/" title="查看一号店下的所有文章">一号店</a> (1) </li> 
       <li class="cat-item cat-item-39"><a href="http://www.redphp.net/category/jd/" title="查看京东下的所有文章">京东</a> (1) </li> 
       <li class="cat-item cat-item-28"><a href="http://www.redphp.net/category/pictures/" title="查看图片收藏下的所有文章">图片收藏</a> (1) 
        <ul class="children"> 
         <li class="cat-item cat-item-29"><a href="http://www.redphp.net/category/pictures/gif/" title="查看搞笑动画下的所有文章">搞笑动画</a> (1) </li> 
        </ul> </li> 
       <li class="cat-item cat-item-1"><a href="http://www.redphp.net/category/program/" title="程序/编程 语言,各种框架">学习笔记</a> (104) 
        <ul class="children"> 
         <li class="cat-item cat-item-34"><a href="http://www.redphp.net/category/program/apache/" title="查看Apache下的所有文章">Apache</a> (1) </li> 
         <li class="cat-item cat-item-23"><a href="http://www.redphp.net/category/program/centos/" title="查看Centos下的所有文章">Centos</a> (27) </li> 
         <li class="cat-item cat-item-35"><a href="http://www.redphp.net/category/program/drupal/" title="查看Drupal下的所有文章">Drupal</a> (2) </li> 
         <li class="cat-item cat-item-33"><a href="http://www.redphp.net/category/program/html-css/" title="查看html/css下的所有文章">html/css</a> (4) </li> 
         <li class="cat-item cat-item-43"><a href="http://www.redphp.net/category/program/java/" title="查看Java下的所有文章">Java</a> (4) </li> 
         <li class="cat-item cat-item-24"><a href="http://www.redphp.net/category/program/js/" title="javascript">JS</a> (13) </li> 
         <li class="cat-item cat-item-44"><a href="http://www.redphp.net/category/program/nginx/" title="查看Nginx下的所有文章">Nginx</a> (1) </li> 
         <li class="cat-item cat-item-42"><a href="http://www.redphp.net/category/program/node/" title="查看Node下的所有文章">Node</a> (1) </li> 
         <li class="cat-item cat-item-14"><a href="http://www.redphp.net/category/program/php/" title="php 编程语言">PHP</a> (17) </li> 
         <li class="cat-item cat-item-25"><a href="http://www.redphp.net/category/program/python/" title="查看Python下的所有文章">Python</a> (19) </li> 
         <li class="cat-item cat-item-38"><a href="http://www.redphp.net/category/program/raspberry-pi/" title="查看Raspberry Pi下的所有文章">Raspberry Pi</a> (1) </li> 
         <li class="cat-item cat-item-36"><a href="http://www.redphp.net/category/program/sql/" title="查看SQL下的所有文章">SQL</a> (3) </li> 
         <li class="cat-item cat-item-32"><a href="http://www.redphp.net/category/program/swift/" title="查看Swift下的所有文章">Swift</a> (1) </li> 
         <li class="cat-item cat-item-37"><a href="http://www.redphp.net/category/program/ubuntu/" title="查看Ubuntu下的所有文章">Ubuntu</a> (1) </li> 
         <li class="cat-item cat-item-17"><a href="http://www.redphp.net/category/program/wordpress/" title="Wordpress">Wordpress</a> (6) </li> 
         <li class="cat-item cat-item-15"><a href="http://www.redphp.net/category/program/assembly/" title="汇编语言">汇编</a> (1) </li> 
         <li class="cat-item cat-item-16"><a href="http://www.redphp.net/category/program/lvs/" title="服务器集群">集群</a> (1) </li> 
        </ul> </li> 
       <li class="cat-item cat-item-6"><a href="http://www.redphp.net/category/skill/" title="电脑软件等各种技巧">实用技巧</a> (8) 
        <ul class="children"> 
         <li class="cat-item cat-item-30"><a href="http://www.redphp.net/category/skill/apple/" title="查看Apple下的所有文章">Apple</a> (1) 
          <ul class="children"> 
           <li class="cat-item cat-item-31"><a href="http://www.redphp.net/category/skill/apple/mac/" title="查看Mac下的所有文章">Mac</a> (1) </li> 
          </ul> </li> 
         <li class="cat-item cat-item-18"><a href="http://www.redphp.net/category/skill/windows/" title="windows">Windows</a> (5) </li> 
        </ul> </li> 
       <li class="cat-item cat-item-5"><a href="http://www.redphp.net/category/tool/" title="各种转换工具，PDF，版本控制（Git, Svn） ">常用工具</a> (7) 
        <ul class="children"> 
         <li class="cat-item cat-item-19"><a href="http://www.redphp.net/category/tool/git/" title="git">Git</a> (4) </li> 
         <li class="cat-item cat-item-27"><a href="http://www.redphp.net/category/tool/maven/" title="查看Maven下的所有文章">Maven</a> (1) </li> 
         <li class="cat-item cat-item-26"><a href="http://www.redphp.net/category/tool/yaliceshi/" title="查看压力测试下的所有文章">压力测试</a> (1) </li> 
        </ul> </li> 
       <li class="cat-item cat-item-11"><a href="http://www.redphp.net/category/collect/" title="各类爱好段子等收藏">我的收藏</a> (38) 
        <ul class="children"> 
         <li class="cat-item cat-item-22"><a href="http://www.redphp.net/category/collect/baobao/" title="查看宝宝下的所有文章">宝宝</a> (1) </li> 
         <li class="cat-item cat-item-9"><a href="http://www.redphp.net/category/collect/marketing/" title="市场营销">市场</a> (3) </li> 
         <li class="cat-item cat-item-10"><a href="http://www.redphp.net/category/collect/article/" title="各类喜欢的文章">文章</a> (5) </li> 
         <li class="cat-item cat-item-21"><a href="http://www.redphp.net/category/collect/movie-jieshi/" title="查看电影解释下的所有文章">电影解释</a> (4) </li> 
         <li class="cat-item cat-item-13"><a href="http://www.redphp.net/category/collect/text/" title="读书时的课文">课文</a> (24) </li> 
        </ul> </li> 
      </ul> 
     </div>
     <div id="archives-2" class="widget-wrapper widget_archive">
      <div class="widget-title">
       <h3>文章归档</h3>
      </div> 
      <ul> 
       <li><a href="http://www.redphp.net/2017/03/">2017年三月</a></li> 
       <li><a href="http://www.redphp.net/2017/02/">2017年二月</a></li> 
       <li><a href="http://www.redphp.net/2017/01/">2017年一月</a></li> 
       <li><a href="http://www.redphp.net/2016/12/">2016年十二月</a></li> 
       <li><a href="http://www.redphp.net/2016/11/">2016年十一月</a></li> 
       <li><a href="http://www.redphp.net/2016/10/">2016年十月</a></li> 
       <li><a href="http://www.redphp.net/2016/09/">2016年九月</a></li> 
       <li><a href="http://www.redphp.net/2016/08/">2016年八月</a></li> 
       <li><a href="http://www.redphp.net/2016/07/">2016年七月</a></li> 
       <li><a href="http://www.redphp.net/2016/05/">2016年五月</a></li> 
       <li><a href="http://www.redphp.net/2016/04/">2016年四月</a></li> 
       <li><a href="http://www.redphp.net/2016/03/">2016年三月</a></li> 
       <li><a href="http://www.redphp.net/2016/02/">2016年二月</a></li> 
       <li><a href="http://www.redphp.net/2016/01/">2016年一月</a></li> 
       <li><a href="http://www.redphp.net/2015/12/">2015年十二月</a></li> 
       <li><a href="http://www.redphp.net/2015/09/">2015年九月</a></li> 
       <li><a href="http://www.redphp.net/2015/08/">2015年八月</a></li> 
       <li><a href="http://www.redphp.net/2015/07/">2015年七月</a></li> 
       <li><a href="http://www.redphp.net/2015/06/">2015年六月</a></li> 
       <li><a href="http://www.redphp.net/2015/05/">2015年五月</a></li> 
       <li><a href="http://www.redphp.net/2015/04/">2015年四月</a></li> 
       <li><a href="http://www.redphp.net/2015/01/">2015年一月</a></li> 
       <li><a href="http://www.redphp.net/2014/12/">2014年十二月</a></li> 
       <li><a href="http://www.redphp.net/2014/11/">2014年十一月</a></li> 
       <li><a href="http://www.redphp.net/2014/10/">2014年十月</a></li> 
       <li><a href="http://www.redphp.net/2014/09/">2014年九月</a></li> 
       <li><a href="http://www.redphp.net/2014/08/">2014年八月</a></li> 
       <li><a href="http://www.redphp.net/2014/07/">2014年七月</a></li> 
       <li><a href="http://www.redphp.net/2014/06/">2014年六月</a></li> 
       <li><a href="http://www.redphp.net/2014/05/">2014年五月</a></li> 
       <li><a href="http://www.redphp.net/2014/04/">2014年四月</a></li> 
      </ul> 
     </div>
     <div id="recent-comments-2" class="widget-wrapper widget_recent_comments">
      <div class="widget-title">
       <h3>近期评论</h3>
      </div>
      <ul id="recentcomments">
       <li class="recentcomments">ison发表在《<a href="http://www.redphp.net/mysql-substring-youku/#comment-8">Mysql把href字段中sid之后 /v.swf之前的字段找出来并更新</a>》</li>
       <li class="recentcomments">ison发表在《<a href="http://www.redphp.net/mysql-substring-youku/#comment-7">Mysql把href字段中sid之后 /v.swf之前的字段找出来并更新</a>》</li>
       <li class="recentcomments">ison发表在《<a href="http://www.redphp.net/mysql-substring-youku/#comment-6">Mysql把href字段中sid之后 /v.swf之前的字段找出来并更新</a>》</li>
      </ul>
     </div>
     <div id="wp_qrcode-2" class="widget-wrapper widget_wp_qrcode">
      <div class="widget-title">
       <h3>本页二维码</h3>
      </div> 
      <!-- 
		<a href="http://www.redphp.net/wp-content/plugins/wp-qrcode-gen/saveas.php?website=红色映像&image_path=http://api.qrserver.com/v1/create-qr-code/?size=100x100&data=http://www.redphp.net/python-http-proxy/" target="_blank">
		--> 
      <img src="http://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=http://www.redphp.net/python-http-proxy/" title="http://www.redphp.net/python-http-proxy/" alt="QR: http://www.redphp.net/python-http-proxy/" /> 
      <!-- 
		</a>
		--> 
      <br />
      <sub>扫描二维码打开本页地址</sub> 
     </div>
     <div id="text-2" class="widget-wrapper widget_text">
      <div class="widget-title">
       <h3>喂鱼</h3>
      </div> 
      <div class="textwidget">
       <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0" width="100%"> <param name="movie" value="/wp-content/uploads/2014/07/xfish.swf"></param> <param name="quality" value="high"></param> <param name="wmode" value="transparent"></param> <embed src="/wp-content/uploads/2014/07/xfish.swf" width="100%" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" wmode="transparent" /></object>
      </div> 
     </div> 
    </div>
    <!-- end of #widgets --> 
   </div>
   <!-- end of #wrapper --> 
  </div>
  <!-- end of #container --> 
  <div class="baiduAD" style="text-align:center; margin:20px 0;"> 
   <script type="text/javascript">var cpro_id = "u2358997";</script>
   <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script> 
  </div> 
  <script type="text/javascript">var cpro_psid = "u2359328";</script>
  <script src="http://su.bdimg.com/static/dspui/js/f.js"></script> 
  <div id="footer" class="clearfix"> 
   <div id="footer-wrapper"> 
    <div class="grid col-940"> 
     <!--  <div class="grid col-540"> --> 
     <ul id="menu-default-1" class="footer-menu">
      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-18"><a href="http://www.redphp.net/">首页</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-16"><a href="http://www.redphp.net/category/program/">学习笔记</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7"><a href="http://www.redphp.net/category/tool/">常用工具</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="http://www.redphp.net/category/skill/">实用技巧</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-10"><a href="http://www.redphp.net/category/collect/">我的收藏</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-423"><a href="http://www.redphp.net/category/pictures/">图片收藏</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-864"><a href="http://www.redphp.net/category/jd/">京东</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-865"><a href="http://www.redphp.net/category/tb/">淘宝</a></li> 
      <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-866"><a href="http://www.redphp.net/category/yhd/">一号店</a></li> 
     </ul> 
     <!-- </div> --> 
     <!-- end of col-540 --> 
     <div class="grid col-380 fit"> 
      <ul class="social-icons"></ul>
      <!-- .social-icons --> 
     </div> 
     <!-- end of col-380 fit --> 
    </div> 
    <!-- end of col-940 --> 
    <div class="grid col-300 copyright">
      &copy; 2017
     <a href="http://www.redphp.net/" title="红色映像"> 红色映像 </a> 
    </div> 
    <!-- end of .copyright --> 
    <a href="#scroll-top" class="grid col-300 scroll-top ui-scrolltop" title="回到顶部">↑</a> 
    <div class="grid col-300 fit powered"> 
     <a href="http://www.miibeian.gov.cn/" target="_blank" title="ICP备案号:粤ICP备14020862号">ICP备案号:粤ICP备14020862号</a> 
     <a href="http://s.click.taobao.com/t?e=m%3D2%26s%3DN2chXTdZIJ8cQipKwQzePCperVdZeJviEViQ0P1Vf2kguMN8XjClAjakTvgMfZnihBAwWCoejgzqgnklGGLg6d%2BUTRBQmPCPGkQIFRPwS9QWTqfbUu4IFzDVuRn8ddiDsEVVC24eqozO54LQ%2FVw1L76HrfO5Rkxh34mdTsZIUcD7vPsRjwXu2%2BQHuK%2BlXVtaxg5p7bh%2BFbQ%3D">阿里云服务器</a> 
    </div> 
    <!-- end .powered --> 
   </div> 
   <!-- end #footer-wrapper --> 
  </div>
  <!-- end #footer --> 
  <script type="text/javascript" src="http://www.redphp.net/wp-content/plugins/open-social/images/os.js?ver=3.8.1"></script> 
  <script type="text/javascript" src="http://www.redphp.net/wp-content/themes/responsive/core/js/responsive-scripts.min.js?ver=1.2.5"></script> 
  <script type="text/javascript" src="http://www.redphp.net/wp-content/themes/responsive/core/js/jquery.placeholder.min.js?ver=2.0.7"></script> 
  <div style="display: none"> 
   <script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F253f9cddb74fdc2705f3da3f36c2906c' type='text/javascript'%3E%3C/script%3E"));
</script> 
   <script type="text/javascript">var cpro_id = "u2358966";</script> 
   <script src="http://cpro.baidustatic.com/cpro/ui/i.js" type="text/javascript"></script> 
   <script type="text/javascript">
jQuery(document).ready(function($) {
	baiduAD();
	window.onresize = baiduAD;
	function baiduAD() {
		var winW = $(window).width();
		if(winW < 960) {
			$(".baiduAD").hide();
		}else{
			$(".baiduAD").show();
		}
	}
});
</script> 
   <div>   
   </div>
  </div>
 </body>
</html>